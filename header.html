
<link rel="stylesheet" href="css/public.css" />
<link rel="stylesheet" href="css/header.css" />
<meta charset="UTF-8"/>
<header>
	<div id="title">
		<div class="title margin clear">
			<ul class="clear">
				<li><a href="#" id="ceshi">团800旗下网站</a></li>
				<li><a href="cellphone.html">手机版</a></li>
				<li><a href="#"><img src="img/mobile_icon_new.png" id="imgPhone" />QQ登录</a></li>
				<li><a href="login.html" id="denglu">登录 </a></li>
				<li><a href="register.html" id="denglu2">免费注册</a></li>
				<li id="tuichu">我的订单</li>
				<li><a href="shopping.html"><img src="img/head_cart.png" id="imgCart"/>购物车<span id="spanId">0</span></a></li>
				<li><a href="#">帮助中心</a></li>
				<li><a href="#">卖家中心</a></li>
			</ul>
		</div>
	</div>
	<div id="search" class="clear margin">
		<a href="#" id="search-l"><img src="img/logo_zhe800_new.png"></a>
		<div id="search-c" class="clear">
			<img src="img/search_icon_s.png" id="imgSearch">
			<input type="search"/ id="inputSearch">
			<img src="img/search_icon.png" id="imgSearch2">
		</div>
		<img src="img/search_right.png" id="imgSearch3"/>
		<a href="#" id="search-r">
			<img src="img/head_three_icon.png"/>
		</a>	
	</div>
	<div id="nav" class="margin clear">
		<ul class="clear">
			<li><a id="first">首页</a></li>
			<li><a>品牌团</a></li>
			<li><a>优品汇</a></li>
			<li><a>淘宝精选</a></li>
			<li><a>9块9包邮</a></li>
			<li><a>精选预告</a></li>
			<li><a>特卖商城</a></li>
			<li><a>积分商城</a></li>
			<li><a id="last"><img src="img/126x34.31dcb164756e442506db73bd7457c8f7.gif"></a></li>
		</ul>
	</div>
	<div id="banner" class="margin clear">
		<div class="banner-l">
			<ul>
				<li id="bannerId1"><a href="#">女装&nbsp;&nbsp;内衣</a></li>
				<li><a href="#">男装&nbsp;&nbsp;美食</a></li>
				<li><a href="#">母婴&nbsp;&nbsp;儿童</a></li>
				<li><a href="#">家纺&nbsp;&nbsp;居家</a></li>
				<li><a href="#">鞋品&nbsp;&nbsp;箱包</a></li>
				<li><a href="#">数码&nbsp;&nbsp;家电</a></li>
				<li><a href="#">美妆&nbsp;&nbsp;配饰</a></li>
				<li><a href="#">运动&nbsp;&nbsp;中老年</a></li>
				<li>
					<a href="#">今年新上</a>
					<span>|<span>
					<a href="#">最后抢</a>
					<span>|<span>
					<a href="#">排行榜</a>	
				</li>
				<li>
					<a href="#">每日十件</a>
					<span>|<span>
					<a href="#">值得买</a>
					<span>|<span>
					<a href="#">限时秒</a>	
				</li>
				<li><a></a></li>
			</ul>
		</div>
		<div id="content" class="clear">
			<div class="content-l">
				<a href="commodityDetails.html"><h3>女装</h3></a>
				<div class="content-l-b">
					<a href="#">雪纺</a>
					<a href="#">T恤</a>
					<a href="#">运动套装</a>
					<a href="#">短裤</a>
					<a href="#">夏季连衣裙</a>
					<a href="#">大码女裤</a>
					<a href="#">夏季防晒衣</a>
					<a href="#">破洞牛仔裤</a>
					<a href="#">打底裤</a>
					<a href="#">沙滩裙</a>
					<a href="#">蕾丝衫</a>
				</div>
				<h3>内衣</h3>
				<div class="content-l-b">
					<a href="#">丝袜</a>
					<a href="#">睡衣</a>
					<a href="#">居家服</a>
					<a href="#">文胸</a>
					<a href="#">男士内衣</a>
					<a href="#">打底</a>
					<a href="#">女士内裤</a>
					<a href="#">棉袜</a>
					<a href="#">船袜</a>
					<a href="#">浴袍</a>
					<a href="#">性感内衣</a>
					
				</div>
			</div>
			<div class="content-r">
				<a href="#"><img src="img/c1.jpg"></a>
				<a href="#"><img src="img/c2.jpg"></a>
				<a href="#"><img src="img/c3.jpg"></a>
			</div>
		</div>
		<div class="banner-c"id="box">
			
		</div>
		<div class="banner-r">
			<a href="#">
				<i></i>
				<span>签到送积分</span>
			</a>
			<a href="#">
				<i id="banner-r-c"></i>
				<span>评价得积分</span>
			</a>
			<a href="#">
				<img src="img/160x160.e20aa2d18b2f271954bd42b27f1e49ff.80x80.png"/>
				<span>0元抽奖</span>
			</a>
		</div>
	</div>
</header>


<script type="text/javascript" src="js/jquery.js" ></script>
<script>
	var banner=document.getElementById("banner")
	banner.onmousemove=contentShow;
	banner.onmouseout=contentHide;
	function contentShow(){
		var contentId=document.getElementById("content")
		contentId.style.cssText="display: block;"
	}
	function contentHide(){
		var contentId=document.getElementById("content")
		contentId.style.cssText="display: none;"
	}
</script>
<script>
	var aa =  getCookie("userTel")
	$(function(){
		
		if(aa != ""){
			$("#denglu").html("亲欢迎再次光临!")
			$("#denglu2").html(aa)
			$("#tuichu").html("退出登录")
		}else{
			$("#denglu").html("登录")
			$("#denglu2").html("注册")
			$("#tuichu").html("我的订单")
		}
	})
	//取cookie值
	function getCookie(key){
	
	var str = decodeURIComponent(document.cookie);
	
	var arr = str.split("; ");

	for(var i=0;i<arr.length;i++){
		if(arr[i].indexOf(key+"=")==0){
			return arr[i].substring((key+"=").length);
		}
		}
		return "";
	}
	$("#tuichu").click(
		function(){
		
		removeCookie(aa)
	
	})
	//删除cookie
	function removeCookie(key){
	
		saveCookie(key,"007",-5);	
	}
	function saveCookie(key,value,dayCount){
	var d = new Date();
	d.setDate(d.getDate()+dayCount);
	document.cookie = key+"="+encodeURIComponent(value)+";expires="+d.toGMTString();
	
	}
	//轮播图
	$(function(){
	new  Slideshow({
		boxId:"#box",
		imgs:["img/1.jpg","img/2.jpg","img/3.jpg","img/4.jpg","img/5.jpg"],
		width:951,
		height:305,
		timeSpace:4000,
		fadeInOutTime:1000,
		btnColor:"#fff",
		btnHighColor:"red",
		btnWidth:10,
		btnHeight:10,
		btnHasOrd:true
	});
});

//轮播图对象：
//对象：轮播图
//参数是个对象：面向对象的体现（一切皆对象）；
function Slideshow(obj){
//属性：
	//一、轮播图整体的属性
	//所在容器的id；
	this.boxId=obj.boxId;	
	//图片数组
	this.imgs=obj.imgs;//图片数组中保存着每张图片的路径
	//大小
	this.width =obj.width;
	this.height =obj.height;
	//播放速度
	this.timeSpace=obj.timeSpace;//3000;
	//淡入和淡出图片序号；
	this.currInOrd =1;
	this.currOutOrd =0;
	//大定时器（）
	this.timer =null;
	
	//二、两张图片的切换效果（淡入淡出效果）的属性
	//淡入淡出效果的时间长度
	this.fadeInOutTime =obj.fadeInOutTime;//2000
	
	//淡入淡出效果
	this.fadeInOutTimer =null;
	
	//三、按钮的属性；
	this.btnColor =obj.btnColor;//原始颜色
	this.btnHighColor =obj.btnHighColor;//高亮颜色
	this.btnWidth =obj.btnWidth;//按钮的宽
	this.btnHeight =obj.btnHeight;
	this.btnHasOrd =obj.btnHasOrd;//按钮上是否有序号；
	//还可以扩展：按钮的位置是上右下左等等。
	this.initUI();
	this.go();
}

Slideshow.prototype.initUI = function(){
	//一、创建轮播图所需要的DOM元素
	//1、所有图片的创建
	for(var i=0;i<this.imgs.length;i++){
		let str = "<img src='"+this.imgs[i]+"' style='width:"+this.width+"px;height:"+this.height+"px;position:absolute;z-index:"+(this.imgs.length-i)+";display:none'/>";
		$(this.boxId).append(str);
	}
	$(this.boxId+" img:first").css({"display":"block"});

	//2、所有按钮的创建
	let ulliStr = "<ul style='position:absolute;left:435px;bottom:25px;z-index:999;display:flex;justify-content:space-between'>";
	
	for(let i=0;i<this.imgs.length;i++){
		ulliStr +="<li ord='"+(i+1)+"' style='list-style:none;float:left;margin:4px;width:"+this.btnWidth+"px;height:"+this.btnHeight+"px;border-radius:50%;text-align:center;background-color:"+this.btnColor+";'></li>"
	}
	ulliStr +="</ul>";
	$(this.boxId).append(ulliStr);
	
	$(this.boxId+" ul li").mouseover(function(){
		that.goImg(this.getAttribute("ord"));
	});
	
	//让第一个按钮变成高亮颜色；
	$(this.boxId+" ul li:first").css({"background-color":this.btnHighColor});
	
	var that = this;
	$(this.boxId).mouseover(function(){		
		that.stopChange();
	});

	$(this.boxId).mouseout(function(){
		that.go();
	});	
}

Slideshow.prototype.go = function(){
	let that = this;
	this.timer = setInterval(function(){
		that.goStep();
	},this.timeSpace);
}


//改变图片。
Slideshow.prototype.goStep = function(){
	//1）、改变淡入和淡出的图片序号（按照顺序进行变换）
	this.currInOrd++;//1-6   2,3,4,5,6
	this.currOutOrd=this.currInOrd-1; //1,2,3,4,5	
	
	if(this.currInOrd>this.imgs.length){
		this.currInOrd=1;
	}
	if(this.currOutOrd>this.imgs.length){
		this.currOutOrd=1;
	}
	//2）、淡入淡出效果
	this.fadeInOut();
	//3）、改变按钮颜色
	this.changeBtnColor();
}

Slideshow.prototype.fadeInOut=function(){
	$(this.boxId+" img:eq("+(this.currInOrd-1)+")").fadeIn(this.fadeInOutTime);//4
	$(this.boxId+" img:eq("+(this.currOutOrd-1)+")").fadeOut(this.fadeInOutTime);//3
}

Slideshow.prototype.changeBtnColor=function(){
	$(this.boxId+" ul li:eq("+(this.currInOrd-1)+")")
	.css("background-color",this.btnHighColor)
	.siblings()
	.css("background-color",this.btnColor);
}

Slideshow.prototype.stopChange = function(){	
	window.clearInterval(this.timer);
}	

Slideshow.prototype.goImg = function(ord){
	this.currOutOrd = this.currInOrd;
	this.currInOrd = ord; 
	//2）、淡入淡出效果
	this.fadeInOut();
	//3）、改变按钮颜色
	this.changeBtnColor();	
}
</script>